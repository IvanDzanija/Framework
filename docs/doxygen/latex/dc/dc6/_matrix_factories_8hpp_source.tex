\doxysection{Matrix\+Factories.\+hpp}
\hypertarget{_matrix_factories_8hpp_source}{}\label{_matrix_factories_8hpp_source}\index{include/MafLib/math/linalg/MatrixFactories.hpp@{include/MafLib/math/linalg/MatrixFactories.hpp}}
\mbox{\hyperlink{_matrix_factories_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ MATRIX\_FACTORIES\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ MATRIX\_FACTORIES\_H}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_matrix_8hpp}{Matrix.hpp}}"{}}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacemaf_1_1math}{maf::math}}\ \{}
\DoxyCodeLine{00021\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00022\ [[nodiscard]]\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classmaf_1_1math_1_1_matrix}{Matrix<U>}}\ \mbox{\hyperlink{namespacemaf_1_1math_a44a90b54cc59e94a6502aa223b893215}{ones}}(\textcolor{keywordtype}{size\_t}\ rows,\ \textcolor{keywordtype}{size\_t}\ cols)\ \{}
\DoxyCodeLine{00023\ \ \ \ \ \mbox{\hyperlink{classmaf_1_1math_1_1_matrix}{Matrix<U>}}\ result(rows,\ cols);}
\DoxyCodeLine{00024\ \ \ \ \ result.\mbox{\hyperlink{classmaf_1_1math_1_1_matrix_a71134f227c2c22e4ecf24b33ed3c0396}{fill}}(U(1));}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00026\ \}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00035\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00036\ [[nodiscard]]\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacemaf_1_1math_a3d4733be1cd68ede07a9c2de6728b2d7}{loosely\_equal}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classmaf_1_1math_1_1_matrix}{Matrix<T>}}\ \&first,}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classmaf_1_1math_1_1_matrix}{Matrix<U>}}\ \&second,}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ eps\ =\ 1e-\/6)\ \{}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ n\ =\ first.\mbox{\hyperlink{classmaf_1_1math_1_1_matrix_aa1fa0768048faff36f5dfc56911a8ce4}{row\_count}}();}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ m\ =\ first.\mbox{\hyperlink{classmaf_1_1math_1_1_matrix_a98d6cc10d243169d78f53d07406ace8b}{column\_count}}();}
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keywordflow}{if}\ (n\ !=\ second.\mbox{\hyperlink{classmaf_1_1math_1_1_matrix_aa1fa0768048faff36f5dfc56911a8ce4}{row\_count}}()\ ||\ m\ !=\ second.\mbox{\hyperlink{classmaf_1_1math_1_1_matrix_a98d6cc10d243169d78f53d07406ace8b}{column\_count}}())\ \{}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00043\ \ \ \ \ \}}
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ n;\ ++i)\ \{}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ j\ =\ 0;\ j\ <\ m;\ ++j)\ \{}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{namespacemaf_a11dab27cc975212d0cfebee780289026}{is\_close}}(first.\mbox{\hyperlink{classmaf_1_1math_1_1_matrix_a3506acc05e298718fb6d5587d6594055}{at}}(i,\ j),\ second.\mbox{\hyperlink{classmaf_1_1math_1_1_matrix_a3506acc05e298718fb6d5587d6594055}{at}}(i,\ j),\ eps))\ \{}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00050\ \ \ \ \ \}}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00052\ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00061\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00062\ [[nodiscard]]\ \mbox{\hyperlink{classmaf_1_1math_1_1_matrix}{Matrix<T>}}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{namespacemaf_1_1math_a0fe2f174cf146553516e15feb16733c5}{make\_permutation\_matrix}}(}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<uint32>\ \&perm)\ \{}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ n\ =\ perm.\mbox{\hyperlink{classmaf_1_1math_1_1_matrix_a45aa75653ab2200d6de78ec7accbda5b}{size}}();}
\DoxyCodeLine{00065\ \ \ \ \ \mbox{\hyperlink{classmaf_1_1math_1_1_matrix}{Matrix<T>}}\ result(n,\ n);\ \textcolor{comment}{//\ Initializes\ to\ zero}}
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\#pragma\ omp\ parallel\ for\ if\ (n\ >\ 256)}}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ n;\ ++i)\ \{}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ j\ =\ perm.at(i);}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ result.\mbox{\hyperlink{classmaf_1_1math_1_1_matrix_a3506acc05e298718fb6d5587d6594055}{at}}(i,\ j)\ =\ \textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(1);}
\DoxyCodeLine{00070\ \ \ \ \ \}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00073\ \}}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \}\ \textcolor{comment}{//\ namespace\ maf::math}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
